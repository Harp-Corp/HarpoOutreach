<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HarpoOutreach - RegTech Outreach Platform</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header class="app-header">
    <div class="header-brand">
      <h1>HarpoOutreach</h1>
      <span class="subtitle">RegTech Outreach Platform</span>
    </div>
    <nav class="header-nav">
      <button class="nav-btn active" data-view="dashboard">Dashboard</button>
      <button class="nav-btn" data-view="leads">Leads</button>
      <button class="nav-btn" data-view="companies">Firmensuche</button>
      <button class="nav-btn" data-view="email">E-Mail</button>
      <button class="nav-btn" data-view="social">Social Posts</button>
    </nav>
    <div class="header-actions">
      <button id="btn-auth" class="btn btn-outline">Google Auth</button>
    </div>
  </header>

  <main class="app-main">
    <!-- Dashboard View -->
    <section id="view-dashboard" class="view active">
      <h2>Dashboard</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <span class="stat-value" id="stat-leads">0</span>
          <span class="stat-label">Leads gesamt</span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="stat-emails-sent">0</span>
          <span class="stat-label">E-Mails gesendet</span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="stat-emails-opened">0</span>
          <span class="stat-label">E-Mails geoeffnet</span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="stat-responses">0</span>
          <span class="stat-label">Antworten</span>
        </div>
      </div>
      <div class="dashboard-charts">
        <div class="chart-card">
          <h3>Pipeline nach Branche</h3>
          <div id="chart-industry" class="chart-placeholder">Lade Daten...</div>
        </div>
        <div class="chart-card">
          <h3>Kampagnen-Performance</h3>
          <div id="chart-performance" class="chart-placeholder">Lade Daten...</div>
        </div>
      </div>
    </section>

    <!-- Leads View -->
    <section id="view-leads" class="view">
      <div class="view-header">
        <h2>Leads</h2>
        <button id="btn-add-lead" class="btn btn-primary">+ Neuer Lead</button>
      </div>
      <div class="filter-bar">
        <select id="filter-industry" class="form-select">
          <option value="">Alle Branchen</option>
        </select>
        <select id="filter-region" class="form-select">
          <option value="">Alle Regionen</option>
        </select>
        <select id="filter-status" class="form-select">
          <option value="">Alle Status</option>
          <option value="new">Neu</option>
          <option value="contacted">Kontaktiert</option>
          <option value="qualified">Qualifiziert</option>
          <option value="proposal">Angebot</option>
          <option value="won">Gewonnen</option>
          <option value="lost">Verloren</option>
        </select>
        <input type="search" id="search-leads" class="form-input" placeholder="Suchen...">
      </div>
      <div class="table-wrapper">
        <table class="data-table" id="leads-table">
          <thead>
            <tr>
              <th>Name</th>
              <th>Firma</th>
              <th>Branche</th>
              <th>Region</th>
              <th>Status</th>
              <th>Aktionen</th>
            </tr>
          </thead>
          <tbody id="leads-tbody"></tbody>
        </table>
      </div>

      <!-- Add Lead Modal -->
      <div id="modal-lead" class="modal hidden">
        <div class="modal-content">
          <div class="modal-header">
            <h3>Neuer Lead</h3>
            <button class="modal-close">&times;</button>
          </div>
          <form id="form-lead">
            <div class="form-group">
              <label>Name</label>
              <input type="text" name="name" class="form-input" required>
            </div>
            <div class="form-group">
              <label>E-Mail</label>
              <input type="email" name="email" class="form-input" required>
            </div>
            <div class="form-group">
              <label>Firma</label>
              <input type="text" name="companyName" class="form-input" required>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Branche</label>
                <select name="industry" class="form-select" id="lead-industry"></select>
              </div>
              <div class="form-group">
                <label>Region</label>
                <select name="region" class="form-select" id="lead-region"></select>
              </div>
            </div>
            <div class="form-group">
              <label>Titel / Position</label>
              <input type="text" name="title" class="form-input">
            </div>
            <div class="form-group">
              <label>Notizen</label>
              <textarea name="notes" class="form-textarea" rows="3"></textarea>
            </div>
            <div class="form-actions">
              <button type="button" class="btn btn-outline modal-close">Abbrechen</button>
              <button type="submit" class="btn btn-primary">Speichern</button>
            </div>
          </form>
        </div>
      </div>
    </section>

    <!-- Companies Search View -->
    <section id="view-companies" class="view">
      <h2>Firmensuche (Perplexity AI)</h2>
      <form id="form-search-companies" class="search-form">
        <div class="form-row">
          <div class="form-group">
            <label>Branche</label>
            <select id="search-industry" class="form-select"></select>
          </div>
          <div class="form-group">
            <label>Region</label>
            <select id="search-region" class="form-select"></select>
          </div>
          <div class="form-group">
            <label>Firmengroesse</label>
            <select id="search-size" class="form-select">
              <option value="any">Alle</option>
              <option value="small">Klein (1-50)</option>
              <option value="medium">Mittel (51-500)</option>
              <option value="large">Gross (500+)</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label>Zusaetzliche Kriterien</label>
          <input type="text" id="search-query" class="form-input" placeholder="z.B. ISO 27001 zertifiziert...">
        </div>
        <button type="submit" class="btn btn-primary">Firmen suchen</button>
      </form>
      <div id="companies-results" class="results-grid"></div>
    </section>

    <!-- Email View -->
    <section id="view-email" class="view">
      <h2>E-Mail Kampagnen</h2>
      <div class="email-layout">
        <div class="email-sidebar">
          <h3>Lead auswaehlen</h3>
          <select id="email-lead-select" class="form-select">
            <option value="">-- Lead waehlen --</option>
          </select>
          <button id="btn-draft-email" class="btn btn-primary" style="margin-top:1rem;">Entwurf generieren</button>
        </div>
        <div class="email-editor">
          <div class="form-group">
            <label>Betreff</label>
            <input type="text" id="email-subject" class="form-input">
          </div>
          <div class="form-group">
            <label>Nachricht</label>
            <textarea id="email-body" class="form-textarea" rows="12"></textarea>
          </div>
          <div class="form-actions">
            <button id="btn-send-email" class="btn btn-primary">Senden</button>
          </div>
        </div>
      </div>
    </section>

    <!-- Social Posts View -->
    <section id="view-social" class="view">
      <h2>Social Media Posts</h2>
      <form id="form-social" class="social-form">
        <div class="form-row">
          <div class="form-group">
            <label>Plattform</label>
            <select id="social-platform" class="form-select">
              <option value="linkedin">LinkedIn</option>
              <option value="twitter">Twitter / X</option>
              <option value="xing">XING</option>
            </select>
          </div>
          <div class="form-group">
            <label>Branche</label>
            <select id="social-industry" class="form-select"></select>
          </div>
        </div>
        <div class="form-group">
          <label>Thema / Kontext</label>
          <input type="text" id="social-topic" class="form-input" placeholder="z.B. DORA Compliance Deadline...">
        </div>
        <button type="submit" class="btn btn-primary">Post generieren</button>
      </form>
      <div id="social-result" class="social-preview hidden">
        <h3>Generierter Post</h3>
        <div id="social-content" class="post-content"></div>
        <button id="btn-copy-post" class="btn btn-outline">In Zwischenablage kopieren</button>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <span>Harpocrates Corp &copy; 2025 - HarpoOutreach Web</span>
    <span id="health-status" class="health-indicator">Verbinde...</span>
  </footer>

  <script src="/js/app.js"></script>
</body>
</html>
